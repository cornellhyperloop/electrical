{"ast":null,"code":"//\n// Main\n//\nfunction memoize(fn, options) {\n  var cache = options && options.cache ? options.cache : cacheDefault;\n  var serializer = options && options.serializer ? options.serializer : serializerDefault;\n  var strategy = options && options.strategy ? options.strategy : strategyDefault;\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  });\n} //\n// Strategy\n//\n\n\nfunction isPrimitive(value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean'; // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic(fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n  var computedValue = cache.get(cacheKey);\n\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg);\n    cache.set(cacheKey, computedValue);\n  }\n\n  return computedValue;\n}\n\nfunction variadic(fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3);\n  var cacheKey = serializer(args);\n  var computedValue = cache.get(cacheKey);\n\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args);\n    cache.set(cacheKey, computedValue);\n  }\n\n  return computedValue;\n}\n\nfunction assemble(fn, context, strategy, cache, serialize) {\n  return strategy.bind(context, fn, cache, serialize);\n}\n\nfunction strategyDefault(fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\n\nfunction strategyVariadic(fn, options) {\n  var strategy = variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\n\nfunction strategyMonadic(fn, options) {\n  var strategy = monadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n} //\n// Serializer\n//\n\n\nfunction serializerDefault() {\n  return JSON.stringify(arguments);\n} //\n// Cache\n//\n\n\nfunction ObjectWithoutPrototypeCache() {\n  this.cache = Object.create(null);\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return key in this.cache;\n};\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key];\n};\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value;\n};\n\nvar cacheDefault = {\n  create: function create() {\n    return new ObjectWithoutPrototypeCache();\n  }\n}; //\n// API\n//\n\nmodule.exports = memoize;\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n};","map":{"version":3,"sources":["/Users/roninsharma/Desktop/Cornell/Hyperloop/software/website/node_modules/fast-memoize/src/index.js"],"names":["memoize","fn","options","cache","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","isPrimitive","value","monadic","arg","cacheKey","computedValue","get","call","set","variadic","args","Array","prototype","slice","arguments","apply","assemble","context","serialize","bind","length","create","strategyVariadic","strategyMonadic","JSON","stringify","ObjectWithoutPrototypeCache","Object","has","key","module","exports","strategies"],"mappings":"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","sourcesContent":["//\n// Main\n//\n\nfunction memoize (fn, options) {\n  var cache = options && options.cache\n    ? options.cache\n    : cacheDefault\n\n  var serializer = options && options.serializer\n    ? options.serializer\n    : serializerDefault\n\n  var strategy = options && options.strategy\n    ? options.strategy\n    : strategyDefault\n\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  })\n}\n\n//\n// Strategy\n//\n\nfunction isPrimitive (value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean' // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic (fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction variadic (fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3)\n  var cacheKey = serializer(args)\n\n  var computedValue = cache.get(cacheKey)\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args)\n    cache.set(cacheKey, computedValue)\n  }\n\n  return computedValue\n}\n\nfunction assemble (fn, context, strategy, cache, serialize) {\n  return strategy.bind(\n    context,\n    fn,\n    cache,\n    serialize\n  )\n}\n\nfunction strategyDefault (fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyVariadic (fn, options) {\n  var strategy = variadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\nfunction strategyMonadic (fn, options) {\n  var strategy = monadic\n\n  return assemble(\n    fn,\n    this,\n    strategy,\n    options.cache.create(),\n    options.serializer\n  )\n}\n\n//\n// Serializer\n//\n\nfunction serializerDefault () {\n  return JSON.stringify(arguments)\n}\n\n//\n// Cache\n//\n\nfunction ObjectWithoutPrototypeCache () {\n  this.cache = Object.create(null)\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return (key in this.cache)\n}\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key]\n}\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value\n}\n\nvar cacheDefault = {\n  create: function create () {\n    return new ObjectWithoutPrototypeCache()\n  }\n}\n\n//\n// API\n//\n\nmodule.exports = memoize\nmodule.exports.strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n}\n"]},"metadata":{},"sourceType":"script"}